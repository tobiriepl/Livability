var SgCookieOptin={COOKIE_NAME:'cookie_optin',LAST_PREFERENCES_COOKIE_NAME:'cookie_optin_last_preferences',COOKIE_GROUP_EXTERNAL_CONTENT:'iframes',COOKIE_GROUP_ESSENTIAL:'essential',EXTERNAL_CONTENT_ELEMENT_SELECTOR:'iframe, object, video, audio, [data-external-content-protection], .frame-external-content-protection',EXTERNAL_CONTENT_ALLOWED_ELEMENT_SELECTOR:'[data-external-content-no-protection], [data-iframe-allow-always], .frame-external-content-no-protection',externalContentObserver:null,protectedExternalContents:[],lastOpenedExternalContentId:0,jsonData:{},isExternalGroupAccepted:!1,run:function(){SgCookieOptin.closestPolyfill();SgCookieOptin.customEventPolyfill();SgCookieOptin.jsonData=JSON.parse(document.getElementById('cookieOptinData').innerHTML);if(SgCookieOptin.jsonData){SgCookieOptin.setCookieNameBasedOnLanguage();document.addEventListener('DOMContentLoaded',function(){SgCookieOptin.initialize()});SgCookieOptin.isExternalGroupAccepted=SgCookieOptin.checkIsExternalGroupAccepted();SgCookieOptin.checkForExternalContents()}},initialize:function(){SgCookieOptin.handleScriptActivations();var o=document.querySelectorAll('.sg-cookie-optin-plugin-uninitialized');for(var t=0;t<o.length;++t){var e=o[t];SgCookieOptin.openCookieOptin(e,{hideBanner:!0});e.classList.remove('sg-cookie-optin-plugin-uninitialized');e.classList.add('sg-cookie-optin-plugin-initialized')};var a=SgCookieOptin.getParameterByName('disableOptIn')==!0;if(a){return};var i=SgCookieOptin.getParameterByName('showOptIn')==!0,n=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME);if(i||!SgCookieOptin.jsonData.settings.activate_testing_mode&&(SgCookieOptin.shouldShowBannerBasedOnLastPreferences(n))){SgCookieOptin.openCookieOptin(null,{hideBanner:!1})}},setCookieNameBasedOnLanguage:function(){if(!SgCookieOptin.jsonData.settings.unified_cookie_name){SgCookieOptin.COOKIE_NAME+='_'+SgCookieOptin.jsonData.settings.identifier+'_'+SgCookieOptin.jsonData.settings.language;SgCookieOptin.LAST_PREFERENCES_COOKIE_NAME+='_'+SgCookieOptin.jsonData.settings.identifier+'_'+SgCookieOptin.jsonData.settings.language}},checkIsExternalGroupAccepted:function(){return SgCookieOptin.checkIsGroupAccepted(SgCookieOptin.COOKIE_GROUP_EXTERNAL_CONTENT)},checkIsGroupAccepted:function(e,t){if(typeof t==='undefined'){t=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME)};if(t){var i=t.split('|');for(var n in i){if(!i.hasOwnProperty(n)){continue};var s=i[n],o=s.split(':');if(!o.hasOwnProperty(0)||!o.hasOwnProperty(1)){continue};var a=o[0],r=parseInt(o[1]);if(a===e){if(r===1){return!0};break}}};return!1},readCookieValues:function(e){if(typeof e==='undefined'){e=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME)};var n=[];if(e){var o=e.split('|');for(var i in o){if(!o.hasOwnProperty(i)){continue};var s=o[i],t=s.split(':');if(!t.hasOwnProperty(0)||!t.hasOwnProperty(1)){continue};var a=t[0],r=parseInt(t[1]);n[a]=r}};return n},handleScriptActivations:function(){var s=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME);if(!s){return};var n=s.split('|');for(var r in n){if(!n.hasOwnProperty(r)){continue};var u=n[r],i=u.split(':');if(!i.hasOwnProperty(0)||!i.hasOwnProperty(1)){continue};var l=i[0],g=parseInt(i[1]);if(!g){continue};for(var e in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(e)||SgCookieOptin.jsonData.cookieGroups[e].groupName!==l){continue};if(SgCookieOptin.jsonData.cookieGroups[e].loadingHTML&&SgCookieOptin.jsonData.cookieGroups[e].loadingHTML!==''){var o=document.getElementsByTagName('head')[0];if(o){var a=document.createRange();a.selectNode(o);o.appendChild(a.createContextualFragment(SgCookieOptin.jsonData.cookieGroups[e].loadingHTML));var p=new CustomEvent('addedLoadingHTML',{bubbles:!0,detail:{src:SgCookieOptin.jsonData.cookieGroups[e].loadingHTML}});o.dispatchEvent(p)}};if(SgCookieOptin.jsonData.cookieGroups[e].loadingJavaScript&&SgCookieOptin.jsonData.cookieGroups[e].loadingJavaScript!==''){var t=document.createElement('script');t.setAttribute('src',SgCookieOptin.jsonData.cookieGroups[e].loadingJavaScript);t.setAttribute('type','text/javascript');document.body.appendChild(t);var c=new CustomEvent('addedLoadingScript',{bubbles:!0,detail:{src:SgCookieOptin.jsonData.cookieGroups[e].loadingJavaScript}});t.dispatchEvent(c)}}}},openCookieOptin:function(e,t){if(!SgCookieOptin.shouldShowOptinBanner()){return};var n=typeof t=='object'&&t.hideBanner===!0,a=typeof t=='object'&&t.fromBanner===!0,o=document.createElement('DIV');o.id='SgCookieOptin';var i;if(SgCookieOptin.jsonData.settings.banner_force_min_width&&parseInt(SgCookieOptin.jsonData.settings.banner_force_min_width)>0){i=window.matchMedia('(max-width: '+parseInt(SgCookieOptin.jsonData.settings.banner_force_min_width)+'px)').matches}else{i=!1};if(!a&&!n&&((!e&&SgCookieOptin.jsonData.settings.banner_enable&&!n)||i)){o.classList.add('sg-cookie-optin-banner-wrapper');o.insertAdjacentHTML('afterbegin',SgCookieOptin.jsonData.mustacheData.banner.markup)}else{o.insertAdjacentHTML('afterbegin',SgCookieOptin.jsonData.mustacheData.template.markup)};SgCookieOptin.insertUserUuid(o);SgCookieOptin.addListeners(o,e);if(!e){document.body.insertAdjacentElement('beforeend',o)}else{e.appendChild(o)};setTimeout(function(){SgCookieOptin.adjustDescriptionHeight(o,e);SgCookieOptin.updateCookieList();var i=new CustomEvent('cookieOptinShown',{bubbles:!0,detail:{}});document.body.dispatchEvent(i);if(document.getElementsByClassName('sg-cookie-optin-plugin-initialized').length>0){return};var t=document.getElementsByClassName('sg-cookie-optin-checkbox');if(t.length>1){if(t[1].focus){t[1].focus()}}},10)},shouldShowOptinBanner:function(){if(typeof SgCookieOptin.jsonData.settings.consider_do_not_track!=='undefined'&&SgCookieOptin.jsonData.settings.consider_do_not_track&&typeof navigator.doNotTrack!=='undefined'&&navigator.doNotTrack==='1'){console.log('Cookie Consent: DoNotTrack detected - Auto-OptOut');return!1};if(document.getElementsByClassName('sg-cookie-optin-plugin-initialized').length>0){return!1};if(typeof SgCookieOptin.jsonData.settings.cookiebanner_whitelist_regex!=='undefined'&&SgCookieOptin.jsonData.settings.cookiebanner_whitelist_regex.trim()!==''){var e=SgCookieOptin.jsonData.settings.cookiebanner_whitelist_regex.trim().split(/\r?\n/).map(function(e){return new RegExp(e)});if(typeof e==='object'&&e.length>0){for(var t in e){if(e[t].test(window.location)){return!1}}}};return!0},adjustDescriptionHeight:function(e,t){var n=4;if(t===null){if(window.innerWidth<=750){return}else if(window.innerWidth<=1050){n=2}else if(window.innerWidth<=1250){n=3}}else{n=2};var a=[],i=0,r=e.querySelectorAll('.sg-cookie-optin-box-new .sg-cookie-optin-checkbox-description');for(var o=0;o<r.length;++o){if(!(o%n)){++i};var s=r[o].getBoundingClientRect().height,c=(a[i]?a[i]:0);if(s>c){a[i]=s}};i=0;for(o=0;o<r.length;++o){if(!(o%n)){++i};r[o].style.height=a[i]+'px'}},adjustReasonHeight:function(e,t){var s=3;if(t===null){if(window.innerWidth<=750){return}else if(window.innerWidth<=1050){s=2}}else{s=2};var p=e.querySelectorAll('.sg-cookie-optin-box-new .sg-cookie-optin-box-cookie-list-item');for(var c=0;c<p.length;++c){var r=[],i=0,n=p[c].querySelectorAll('.sg-cookie-optin-box-table-reason');for(var o=0;o<n.length;++o){if(!(o%s)){++i};var a=n[o].getBoundingClientRect().height;a-=parseInt(window.getComputedStyle(n[o],null).getPropertyValue('padding-top'));a-=parseInt(window.getComputedStyle(n[o],null).getPropertyValue('padding-bottom'));var l=(r[i]?r[i]:0);if(a>l){r[i]=a}};i=0;for(o=0;o<n.length;++o){if(!(o%s)){++i};n[o].style.height=r[i]+'px'}}},shouldShowBannerBasedOnLastPreferences:function(e){if(!e){return!0};if(SgCookieOptin.lastPreferencesFromCookie()){var t=SgCookieOptin.getCookie(SgCookieOptin.LAST_PREFERENCES_COOKIE_NAME)}else{var t=window.localStorage.getItem('SgCookieOptin.lastPreferences')};if(!t){return!0};try{t=JSON.parse(t)}catch(n){return!0};if(typeof t.timestamp==='undefined'){return!0};if(t.version!==SgCookieOptin.jsonData.settings.version){return!0};for(var o in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(o)){continue};if(typeof SgCookieOptin.jsonData.cookieGroups[o].crdate!=='undefined'&&SgCookieOptin.jsonData.cookieGroups[o].crdate>t.timestamp){return!0};for(var i in SgCookieOptin.jsonData.cookieGroups[o].cookieData){if(!SgCookieOptin.jsonData.cookieGroups[o].cookieData.hasOwnProperty(i)){continue};if(typeof SgCookieOptin.jsonData.cookieGroups[o].cookieData[i].crdate!=='undefined'&&SgCookieOptin.jsonData.cookieGroups[o].cookieData[i].crdate>t.timestamp){return!0}};if(!t.isAll&&typeof SgCookieOptin.jsonData.cookieGroups[o].groupName!=='undefined'&&!SgCookieOptin.checkIsGroupAccepted(SgCookieOptin.jsonData.cookieGroups[o].groupName,t.cookieValue)&&(new Date().getTime()/1000)>(t.timestamp+24*60*60*SgCookieOptin.jsonData.settings.banner_show_again_interval)){return!0}};return!1},getUserUuid:function(){var e=window.localStorage.getItem('SgCookieOptin.userUuid');if(!e){e=SgCookieOptin.generateUUID();window.localStorage.setItem('SgCookieOptin.userUuid',e)};return e},insertUserUuid:function(e){var t=e.querySelectorAll('.sg-cookie-optin-box-footer-user-hash');for(var o in t){if(typeof t[o].innerText==='string'){t[o].innerText=SgCookieOptin.getUserUuid()}}},saveLastPreferences:function(e){var t=window.localStorage.getItem('SgCookieOptin.lastPreferences');if(t===null){t={}};try{t=JSON.parse(t)}catch(a){t={}};var n=SgCookieOptin.getUserUuid(),i=!0;for(var o in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(o)){continue};if(!SgCookieOptin.checkIsGroupAccepted(SgCookieOptin.jsonData.cookieGroups[o].groupName)){i=!1}};t={timestamp:Math.floor(new Date().getTime()/1000),cookieValue:e,isAll:i,version:SgCookieOptin.jsonData.settings.version,uuid:n,identifier:SgCookieOptin.jsonData.settings.identifier};if(SgCookieOptin.lastPreferencesFromCookie()){SgCookieOptin.setCookie(SgCookieOptin.LAST_PREFERENCES_COOKIE_NAME,JSON.stringify(t),365)}else{window.localStorage.setItem('SgCookieOptin.lastPreferences',JSON.stringify(t))};SgCookieOptin.saveLastPreferencesForStats(t)},lastPreferencesFromCookie:function(){return(SgCookieOptin.jsonData.settings.subdomain_support||SgCookieOptin.jsonData.settings.set_cookie_for_domain)},saveLastPreferencesForStats:function(e){if(SgCookieOptin.jsonData.settings.disable_usage_statistics){return};var o=new XMLHttpRequest(),i=new FormData();i.append('lastPreferences',JSON.stringify(e));var t=SgCookieOptin.jsonData.settings.save_history_webhook;if(!t){return};o.open('POST',t);o.send(i)},generateUUID:function(){var e=new Date().getTime(),t=(performance&&performance.now&&(performance.now()*1000))||0;return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(o){var i=Math.random()*16;if(e>0){i=(e+i)%16|0;e=Math.floor(e/16)}else{i=(t+i)%16|0;t=Math.floor(t/16)};return(o==='x'?i:(i&0x3|0x8)).toString(16)})},deleteCookiesForUnsetGroups:function(){for(var e in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(e)){continue};var a=document.cookie.split('; ');if(!SgCookieOptin.checkIsGroupAccepted(SgCookieOptin.jsonData.cookieGroups[e].groupName)){for(var n in SgCookieOptin.jsonData.cookieGroups[e].cookieData){if(isNaN(parseInt(n))){continue};for(var i in a){if(isNaN(parseInt(i))){continue};var t=a[i].split('=')[0],o=SgCookieOptin.jsonData.cookieGroups[e].cookieData[n].Name.trim();if(!o){continue};var r=new RegExp(o);if(r.test(t)){SgCookieOptin.deleteGroupCookie(t)}}}}}},deleteGroupCookie:function(e){var t=e+'=; path=/; Max-Age=-99999999;';document.cookie=t;var r=window.location.hostname;if(SgCookieOptin.jsonData.settings.set_cookie_for_domain&&SgCookieOptin.jsonData.settings.set_cookie_for_domain.length>0){t+=';domain='+SgCookieOptin.jsonData.settings.set_cookie_for_domain}else if(SgCookieOptin.jsonData.settings.subdomain_support){var i=r.split('.');if(i.length>2){i.shift();var a='.'+i.join('.');t+=';domain='+a}};document.cookie=t;var o=SgCookieOptin.jsonData.settings.domains_to_delete_cookies_for.trim().split(/\r?\n/).map(function(e){return e.trim()});for(var n in o){if(!o.hasOwnProperty(n)){continue};document.cookie=e+'=; path=/; domain='+o[n]+'; Max-Age=-99999999;'}},addListeners:function(e,t){var c=e.querySelectorAll('.sg-cookie-optin-box-close-button');SgCookieOptin.addEventListenerToList(c,'click',function(){SgCookieOptin.acceptEssentialCookies();SgCookieOptin.updateCookieList();SgCookieOptin.handleScriptActivations();if(!t){SgCookieOptin.hideCookieOptIn()}});var s=e.querySelectorAll('.sg-cookie-optin-box-open-more-link');SgCookieOptin.addEventListenerToList(s,'click',SgCookieOptin.openCookieDetails);var r=e.querySelectorAll('.sg-cookie-optin-box-sublist-open-more-link');SgCookieOptin.addEventListenerToList(r,'click',function(e){SgCookieOptin.openSubList(e,t)});var a=e.querySelectorAll('.sg-cookie-optin-box-button-accept-all, .sg-cookie-optin-banner-button-accept');SgCookieOptin.addEventListenerToList(a,'click',function(){SgCookieOptin.acceptAllCookies();SgCookieOptin.updateCookieList();SgCookieOptin.handleScriptActivations();if(!t){SgCookieOptin.hideCookieOptIn()}else{SgCookieOptin.showSaveConfirmation(t)}});var n=e.querySelectorAll('.sg-cookie-optin-box-button-accept-specific');SgCookieOptin.addEventListenerToList(n,'click',function(){SgCookieOptin.acceptSpecificCookies(this);SgCookieOptin.updateCookieList(this);SgCookieOptin.handleScriptActivations();if(!t){SgCookieOptin.hideCookieOptIn()}else{SgCookieOptin.showSaveConfirmation(t)}});var i=e.querySelectorAll('.sg-cookie-optin-box-button-accept-essential');SgCookieOptin.addEventListenerToList(i,'click',function(){SgCookieOptin.acceptEssentialCookies();SgCookieOptin.updateCookieList();SgCookieOptin.handleScriptActivations();if(!t){SgCookieOptin.hideCookieOptIn()}else{SgCookieOptin.showSaveConfirmation(t)}});var o=e.querySelectorAll('.sg-cookie-optin-banner-button-settings');SgCookieOptin.addEventListenerToList(o,'click',function(){SgCookieOptin.hideCookieOptIn();SgCookieOptin.openCookieOptin(null,{hideBanner:!0,fromBanner:!0})})},addEventListenerToList:function(e,t,o){for(var i=0;i<e.length;++i){e[i].addEventListener(t,o,!1)}},hideCookieOptIn:function(){var t=document.querySelectorAll('#SgCookieOptin');for(var i in t){if(!t.hasOwnProperty(i)){continue};var o=t[i],e=o.parentNode;if(!e||e.classList.contains('sg-cookie-optin-plugin')){continue};e.removeChild(o);var n=new CustomEvent('cookieOptinHidden',{bubbles:!0,detail:{}});e.dispatchEvent(n)}},updateCookieList:function(e){var r={};var l=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME);if(l){var a=l.split('|');for(var p in a){if(!a.hasOwnProperty(p)){continue};var g=a[p],i=g.split(':');if(!i.hasOwnProperty(0)||!i.hasOwnProperty(1)){continue};r[i[0]]=parseInt(i[1])}};for(var c in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(c)){continue};var o=SgCookieOptin.jsonData.cookieGroups[c].groupName;if(!o){continue};if(!r.hasOwnProperty(o)){continue};if(!e){var t=document}else{var t=e.closest('.sg-cookie-optin-box')};if(!t){t=document};var s=t.querySelectorAll('.sg-cookie-optin-checkbox[value="'+o+'"]');for(var n=0;n<s.length;++n){s[n].checked=(r[o]===1)}}},openCookieDetails:function(e){e.preventDefault();var o=e.target.parentNode;if(!o){return};var t=o.previousElementSibling;if(!t){return};if(t.classList.contains('sg-cookie-optin-visible')){t.classList.remove('sg-cookie-optin-visible');e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_box_link_text}else{t.classList.add('sg-cookie-optin-visible');e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_box_link_text_close}},openSubList:function(e,t){e.preventDefault();var g=0,o=e.target.previousElementSibling;if(!o||!o.classList.contains('sg-cookie-optin-box-cookie-detail-sublist')){var l=e.target.closest('#SgCookieOptin'),r=l.querySelectorAll('.sg-cookie-optin-box-new');for(var p in r){if(!r.hasOwnProperty(p)){continue};var c=!0,i=r[p];if(i.classList.contains('sg-cookie-optin-visible')){c=!1;i.classList.remove('sg-cookie-optin-visible');i.classList.add('sg-cookie-optin-invisible');e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_table_link_text}else{i.classList.remove('sg-cookie-optin-invisible');i.classList.add('sg-cookie-optin-visible');SgCookieOptin.adjustReasonHeight(l,t);e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_table_link_text_close};var a=i.querySelectorAll('.sg-cookie-optin-checkbox-description');for(var s in a){if(!a.hasOwnProperty(s)){continue};var n=a[s];if(c){n.setAttribute('data-optimal-height',n.style.height);n.style.height='auto'}else{n.style.height=n.getAttribute('data-optimal-height')}}}}else{if(o.classList.contains('sg-cookie-optin-visible')){o.classList.remove('sg-cookie-optin-visible');o.style.height='';e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_table_link_text}else{o.classList.add('sg-cookie-optin-visible');o.style.height='auto';g=o.getBoundingClientRect().height+'px';o.style.height='';requestAnimationFrame(function(){setTimeout(function(){o.style.height=g},10)});e.target.innerHTML=SgCookieOptin.jsonData.textEntries.extend_table_link_text_close}}},acceptAllCookies:function(){var e='';for(var o in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(o)){continue};var t=SgCookieOptin.jsonData.cookieGroups[o].groupName;if(!t){continue};if(e.length>0){e+='|'};e+=t+':'+1;if(t===SgCookieOptin.COOKIE_GROUP_EXTERNAL_CONTENT){SgCookieOptin.acceptAllExternalContents()}};SgCookieOptin.setCookieWrapper(e)},acceptSpecificCookies:function(e){var c=!1,o='',a=null;if(!e){a=document}else{a=e.closest('.sg-cookie-optin-box')};var s=a.querySelectorAll('.sg-cookie-optin-checkbox:checked');for(var r in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(r)){continue};var t=SgCookieOptin.jsonData.cookieGroups[r].groupName;if(!t){continue};var n=0;for(var i=0;i<s.length;++i){if(s[i].value===t){n=1;break}};if(t===SgCookieOptin.COOKIE_GROUP_EXTERNAL_CONTENT&&n===1){c=!0};if(o.length>0){o+='|'};o+=t+':'+n};SgCookieOptin.setCookieWrapper(o);if(SgCookieOptin.jsonData.settings.iframe_enabled){if(c){SgCookieOptin.acceptAllExternalContents()}else{SgCookieOptin.checkForExternalContents()}}},acceptEssentialCookies:function(){var e='';for(var t in SgCookieOptin.jsonData.cookieGroups){if(!SgCookieOptin.jsonData.cookieGroups.hasOwnProperty(t)){continue};var i=SgCookieOptin.jsonData.cookieGroups[t].groupName;if(!i){continue};var o=0;if(SgCookieOptin.jsonData.cookieGroups[t].required){o=1};if(e.length>0){e+='|'};e+=i+':'+o};SgCookieOptin.setCookieWrapper(e)},checkForExternalContents:function(){if(!SgCookieOptin.jsonData.settings.iframe_enabled){return};var o=SgCookieOptin.getParameterByName('showOptIn')==!0;if(SgCookieOptin.jsonData.settings.activate_testing_mode&&!o){return};if(SgCookieOptin.isExternalGroupAccepted){return};if(!SgCookieOptin.externalContentObserver){var e=document.querySelectorAll(SgCookieOptin.EXTERNAL_CONTENT_ELEMENT_SELECTOR);if(e.length>0){for(var t in e){if(!e.hasOwnProperty(t)){continue};SgCookieOptin.replaceExternalContentWithConsent(e[t])}}};SgCookieOptin.externalContentObserver=new MutationObserver(function(e,t){for(var s in e){if(!e.hasOwnProperty(s)){continue};var i=e[s];if(i.type!=='childList'||i.addedNodes.length<=0){continue};for(var r in i.addedNodes){if(!i.addedNodes.hasOwnProperty(r)){continue};var o=i.addedNodes[r];if(typeof o.matches==='function'&&o.matches(SgCookieOptin.EXTERNAL_CONTENT_ELEMENT_SELECTOR)){SgCookieOptin.replaceExternalContentWithConsent(o)}else if(o.querySelectorAll&&typeof o.querySelectorAll==='function'){var n=o.querySelectorAll(SgCookieOptin.EXTERNAL_CONTENT_ELEMENT_SELECTOR);if(n.length>0){for(var a in n){if(!n.hasOwnProperty(a)){continue};SgCookieOptin.replaceExternalContentWithConsent(n[a])}}}}}});SgCookieOptin.externalContentObserver.observe(document,{subtree:!0,childList:!0})},isContentWhiteListed:function(e){var t=SgCookieOptin.jsonData.mustacheData.iframeWhitelist.markup.trim().split(/\r?\n/).map(function(e){return new RegExp(e)});if(typeof t==='object'&&t.length<1){return!1};switch(e.tagName){case'IFRAME':return SgCookieOptin.isElementWhitelisted(e,'src',t);case'OBJECT':return SgCookieOptin.isElementWhitelisted(e,'data',t);case'VIDEO':case'AUDIO':return SgCookieOptin.isAudioVideoWhitelisted(e,t);default:return!1}},isElementWhitelisted:function(e,t,o){if(typeof e.getAttribute!=='function'){return!1};if(SgCookieOptin.isUrlLocal(e.getAttribute(t))){return!0};for(var i in o){if(typeof e.getAttribute==='function'&&o[i].test(e.getAttribute(t))){return!0}};return!1},isAudioVideoWhitelisted:function(e,t){if(e.hasAttribute('src')){return SgCookieOptin.isElementWhitelisted(e,'src',t)};var o=e.querySelectorAll('source'),n=!1;for(var i in o){if(!o.hasOwnProperty(i)){continue};if(!o[i].getAttribute('src')){continue};if(!SgCookieOptin.isElementWhitelisted(o[i],'src',t)){n=!0}};return!n},isElementInAllowedNode:function(e){var t=document.querySelectorAll(SgCookieOptin.EXTERNAL_CONTENT_ALLOWED_ELEMENT_SELECTOR);for(i in t){if(typeof t[i].contains==='function'&&t[i].contains(e)){return!0}};return!1},isUrlLocal:function(e){var t=document.createElement('a');t.setAttribute('href',e);return window.location.protocol===t.protocol&&window.location.host===t.host},replaceExternalContentWithConsent:function(e){if(e.matches(SgCookieOptin.EXTERNAL_CONTENT_ALLOWED_ELEMENT_SELECTOR)||SgCookieOptin.isElementInAllowedNode(e)||SgCookieOptin.isContentWhiteListed(e)){return};var o=e.parentElement;if(!o){return};if(e.tagName==='IFRAME'&&(!e.src||e.src.indexOf('chrome-extension')>=0)){return};var n=0,s=e;while((s=s.previousSibling)!=null){n++};e.setAttribute('data-iframe-position-index',n);var i=SgCookieOptin.protectedExternalContents.length+1;if(i===0){i=1};SgCookieOptin.protectedExternalContents[i]=e;var t=document.createElement('DIV');t.setAttribute('data-iframe-id',i);t.setAttribute('data-src',e.src);t.setAttribute('style','height: '+e.offsetHeight+'px;');t.classList.add('sg-cookie-optin-iframe-consent');t.insertAdjacentHTML('afterbegin',SgCookieOptin.jsonData.mustacheData.iframeReplacement.markup);var r=t.querySelectorAll('.sg-cookie-optin-iframe-consent-accept');SgCookieOptin.addEventListenerToList(r,'click',function(){SgCookieOptin.acceptExternalContent(i)});if(e.getAttribute('data-consent-button-text')){for(var a=0;a<r.length;++a){r[a].innerText=e.getAttribute('data-consent-button-text')}};SgCookieOptin.setExternalContentDescriptionText(t,e);var p=t.querySelectorAll('.sg-cookie-optin-iframe-consent-link');SgCookieOptin.addEventListenerToList(p,'click',SgCookieOptin.openExternalContentConsent);if(o.childNodes.length>0){o.insertBefore(t,o.childNodes[n])}else{o.appendChild(t)};e.addEventListener('externalContentAccepted',function(){SgCookieOptin.acceptContainerChildNodes(e);return!0});o.removeChild(e);var c=new CustomEvent('externalContentReplaced',{bubbles:!0,detail:{positionIndex:n,parent:o,externalContent:e}});t.dispatchEvent(c)},setExternalContentDescriptionText:function(e,t){var i=e.querySelector('.sg-cookie-optin-box-flash-message');if(i!==null){var o=t.getAttribute('data-consent-description');if(!o){o=SgCookieOptin.jsonData.textEntries.iframe_button_load_one_description};if(o){i.appendChild(document.createTextNode(o))}else{i.remove()}}},openExternalContentConsent:function(){var n=this.parentElement;if(!n){return};var o=n.getAttribute('data-iframe-id');if(!o){return};SgCookieOptin.lastOpenedExternalContentId=o;var i=SgCookieOptin.protectedExternalContents[o];if(!i){return};var e=document.createElement('DIV');e.id='SgCookieOptin';e.insertAdjacentHTML('afterbegin',SgCookieOptin.jsonData.mustacheData.iframe.markup);SgCookieOptin.setExternalContentDescriptionText(e,i);SgCookieOptin.addExternalContentListeners(e);document.body.insertAdjacentElement('beforeend',e);var t=document.getElementsByClassName('sg-cookie-optin-box-button-accept-all');if(t.length>0){if(t[0].focus){t[0].focus()}};var a=new CustomEvent('externalContentConsentDisplayed',{bubbles:!0,detail:{}});e.dispatchEvent(a)},addExternalContentListeners:function(e){var n=e.querySelectorAll('.sg-cookie-optin-box-close-button');SgCookieOptin.addEventListenerToList(n,'click',SgCookieOptin.hideCookieOptIn);var i=e.querySelectorAll('.sg-cookie-optin-box-button-iframe-reject');SgCookieOptin.addEventListenerToList(i,'click',SgCookieOptin.hideCookieOptIn);var o=e.querySelectorAll('.sg-cookie-optin-box-button-accept-all');SgCookieOptin.addEventListenerToList(o,'click',function(){SgCookieOptin.acceptAllExternalContents();SgCookieOptin.acceptExternalConentGroup();SgCookieOptin.updateCookieList();SgCookieOptin.handleScriptActivations();SgCookieOptin.hideCookieOptIn()});var t=e.querySelectorAll('.sg-cookie-optin-box-button-accept-specific');SgCookieOptin.addEventListenerToList(t,'click',function(){SgCookieOptin.acceptExternalContent(SgCookieOptin.lastOpenedExternalContentId);SgCookieOptin.updateCookieList();SgCookieOptin.handleScriptActivations();SgCookieOptin.hideCookieOptIn()})},acceptAllExternalContents:function(){if(SgCookieOptin.jsonData.settings.iframe_enabled&&SgCookieOptin.externalContentObserver){SgCookieOptin.externalContentObserver.disconnect()};for(var e in SgCookieOptin.protectedExternalContents){e=parseInt(e);if(!document.querySelector('div[data-iframe-id="'+e+'"]')){continue};SgCookieOptin.acceptExternalContent(e)}},acceptExternalConentGroup:function(){var r=SgCookieOptin.getCookie(SgCookieOptin.COOKIE_NAME),s=!1,e='',o=r.split('|');for(var a in o){if(!o.hasOwnProperty(a)){continue};var c=o[a],t=c.split(':');if(!t.hasOwnProperty(0)||!t.hasOwnProperty(1)){continue};var i=t[0],n=parseInt(t[1]);if(i===SgCookieOptin.COOKIE_GROUP_EXTERNAL_CONTENT){s=!0;n=1};if(e.length>0){e+='|'};e+=i+':'+n};if(!s){e+='|'+SgCookieOptin.COOKIE_GROUP_EXTERNAL_CONTENT+':'+1};if(r!==e){SgCookieOptin.setCookieWrapper(e)}},acceptExternalContent:function(e){if(!e){e=parent.getAttribute('data-iframe-id');if(!e){return}};var i=document.querySelector('div[data-iframe-id="'+e+'"]'),t=SgCookieOptin.protectedExternalContents[e];if(!t||!i){return};t.setAttribute('data-iframe-allow-always',1);var n=t.getAttribute('data-iframe-position-index');t.removeAttribute('data-iframe-position-index');var o=i.parentNode;o.removeChild(i);if(o.childNodes.length>0){o.insertBefore(t,o.childNodes[n])}else{o.appendChild(t)};SgCookieOptin.emitExternalContentAcceptedEvent(t)},emitExternalContentAcceptedEvent:function(e){var t=new CustomEvent('externalContentAccepted',{bubbles:!0,detail:{externalContent:e}});e.dispatchEvent(t)},acceptContainerChildNodes:function(e){var t=e.querySelectorAll('[data-iframe-id]');if(t.length>0){for(var n in t){var i=t[n];if(typeof i.getAttribute!=='function'){continue};var o=i.getAttribute('data-iframe-id');if(!o){continue};SgCookieOptin.acceptExternalContent(o)}}},getCookie:function(e){var t=document.cookie.match('(^|;) ?'+e+'=([^;]*)(;|$)');return t?t[2]:null},setCookie:function(e,t,o){var a=new Date;a.setTime(a.getTime()+24*60*60*1000*o);var n=e+'='+t+';path=/',s=window.location.hostname,c=';expires='+a.toUTCString()+'; SameSite=None; Secure';if(SgCookieOptin.jsonData.settings.set_cookie_for_domain&&SgCookieOptin.jsonData.settings.set_cookie_for_domain.length>0){n+=';domain='+SgCookieOptin.jsonData.settings.set_cookie_for_domain}else if(SgCookieOptin.jsonData.settings.subdomain_support){var i=s.split('.');if(i.length>2){i.shift();var r='.'+i.join('.');n+=';domain='+r}};document.cookie=n+c},setSessionCookie:function(e,t){var i=e+'='+t+'; path=/',a=window.location.hostname,r=';SameSite=None; Secure';if(SgCookieOptin.jsonData.settings.set_cookie_for_domain&&SgCookieOptin.jsonData.settings.set_cookie_for_domain.length>0){i+=';domain='+SgCookieOptin.jsonData.settings.set_cookie_for_domain}else if(SgCookieOptin.jsonData.settings.subdomain_support){var o=a.split('.');if(o.length>2){o.shift();var n='.'+o.join('.');i+=';domain='+n}};document.cookie=i+r},setCookieWrapper:function(e,t){var s=!1;if(SgCookieOptin.jsonData.settings.session_only_essential_cookies){var i=!1,r=!1,n=e.split('|');for(var a in n){if(!n.hasOwnProperty(a)){continue};var o=n[a];if(o.indexOf(SgCookieOptin.COOKIE_GROUP_ESSENTIAL)===0||o.indexOf(SgCookieOptin.COOKIE_GROUP_IFRAME)===0){continue};i=!0;if(o.indexOf(':1')>0){r=!0;break}};s=i&&!(i&&r)};if(s){SgCookieOptin.setSessionCookie(SgCookieOptin.COOKIE_NAME,e)}else{SgCookieOptin.setCookie(SgCookieOptin.COOKIE_NAME,e,SgCookieOptin.jsonData.settings.cookie_lifetime)};SgCookieOptin.saveLastPreferences(e);SgCookieOptin.deleteCookiesForUnsetGroups();var c=new CustomEvent('consentCookieSet',{bubbles:!0,detail:{cookieValue:e}});document.body.dispatchEvent(c)},showSaveConfirmation:function(e){var o=e.firstChild;if(!o.classList.contains('sg-cookie-optin-save-confirmation')){var t=document.createElement('DIV');t.classList.add('sg-cookie-optin-save-confirmation');t.insertAdjacentText('afterbegin',SgCookieOptin.jsonData.textEntries.save_confirmation_text);e.insertBefore(t,e.firstChild)}},getParameterByName:function(e,t){if(!t){t=window.location.href};e=e.replace(/[\[\]]/g,'\\$&');var i=new RegExp('[?&]'+e+'(=([^&#]*)|&|#|$)'),o=i.exec(t);if(!o){return null};if(!o[2]){return''};return decodeURIComponent(o[2].replace(/\+/g,' '))},findProtectedElementsBySelector:function(e){var o=[];for(var t in SgCookieOptin.protectedExternalContents){if(typeof SgCookieOptin.protectedExternalContents[t].matches==='function'&&SgCookieOptin.protectedExternalContents[t].matches(e)){o.push(SgCookieOptin.protectedExternalContents[t])}};return o},addAcceptHandlerToProtectedElements:function(e,t){if(typeof e!=='function'){throw new Error('Required argument "callback" has not been passed.')};if(!t){t='*'};var o=SgCookieOptin.findProtectedElementsBySelector(t);if(o.length>0){SgCookieOptin.addEventListenerToList(o,'externalContentAccepted',e)}else{if(SgCookieOptin.isExternalGroupAccepted){SgCookieOptin.triggerAcceptedEventListenerToExternalContentElements(e,t)}}},triggerAcceptedEventListenerToExternalContentElements:function(e,t){var i=[],n=document.querySelectorAll(SgCookieOptin.EXTERNAL_CONTENT_ELEMENT_SELECTOR);for(var o=0;o<n.length;++o){if(typeof n[o].matches==='function'&&n[o].matches(t)){i.push(n[o])}};if(i.length>0){SgCookieOptin.addEventListenerToList(i,'externalContentAccepted',e);for(var o=0;o<i.length;++o){SgCookieOptin.emitExternalContentAcceptedEvent(i[o])}}},closestPolyfill:function(){const ElementPrototype=window.Element.prototype;if(typeof ElementPrototype.matches!=='function'){ElementPrototype.matches=ElementPrototype.msMatchesSelector||ElementPrototype.mozMatchesSelector||ElementPrototype.webkitMatchesSelector||function(e){let element=this;const elements=(element.document||element.ownerDocument).querySelectorAll(e);let index=0;while(elements[index]&&elements[index]!==element){++index};return Boolean(elements[index])}};if(typeof ElementPrototype.closest!=='function'){ElementPrototype.closest=function(e){let element=this;while(element&&element.nodeType===1){if(element.matches(e)){return element};element=element.parentNode};return null}}},customEventPolyfill:function(){if(typeof window.CustomEvent==='function'){return!1};function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var o=document.createEvent('CustomEvent');o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return o};window.CustomEvent=e}};SgCookieOptin.run()